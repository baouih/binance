{
    "version": "1.0.0",
    "description": "Cấu hình nâng cao cho thông báo Telegram",
    
    "notification_settings": {
        "enabled": true,
        "bot_token": "8069189803:AAF3PJc3BNQgZmpQ2Oj7o0-ySJGmi2AQ9OM",
        "chat_id": "1834332146",
        "use_formatted_messages": true,
        "include_charts": true,
        "include_performance_metrics": true,
        "notification_timezone": "Asia/Ho_Chi_Minh"
    },
    
    "notification_types": {
        "system_notifications": {
            "enabled": true,
            "startup": true,
            "shutdown": true,
            "errors": true,
            "warnings": true,
            "config_changes": true,
            "service_status": true,
            "priority_level": "medium"
        },
        
        "trading_notifications": {
            "enabled": true,
            "new_positions": true,
            "closed_positions": true,
            "position_updates": true,
            "stop_loss_adjustments": true,
            "take_profit_adjustments": true,
            "leverage_changes": true,
            "include_entry_reason": true,
            "include_exit_reason": true,
            "priority_level": "high"
        },
        
        "performance_notifications": {
            "enabled": true,
            "daily_summary": true,
            "weekly_summary": true,
            "monthly_summary": true,
            "profit_threshold": 5.0,
            "loss_threshold": 3.0,
            "significant_drawdown": true,
            "drawdown_threshold": 5.0,
            "priority_level": "medium"
        },
        
        "market_notifications": {
            "enabled": true,
            "regime_changes": true,
            "high_volatility_alerts": true,
            "volatility_threshold": 2.0,
            "significant_price_movements": true,
            "price_movement_threshold": 3.0,
            "priority_level": "low"
        },
        
        "strategy_notifications": {
            "enabled": true,
            "strategy_switches": true,
            "parameter_adjustments": true,
            "optimization_results": true,
            "backtest_results": true,
            "include_parameter_details": true,
            "priority_level": "medium"
        }
    },
    
    "message_formatting": {
        "use_emoji": true,
        "use_markdown": true,
        "include_timestamps": true,
        "trading_emojis": {
            "long_entry": "🟢",
            "short_entry": "🔴",
            "take_profit": "💰",
            "stop_loss": "⛔",
            "profit": "✅",
            "loss": "❌",
            "trailing_stop": "🔄",
            "leverage": "⚡",
            "risk": "⚠️",
            "market": "📊"
        },
        "notification_templates": {
            "new_position": "{{emoji}} *VỊ THẾ MỚI: {{symbol}} {{side}}*\n📈 Giá vào: {{entry_price}}\n💰 Số lượng: {{quantity}}\n⚡ Đòn bẩy: {{leverage}}x\n🛑 Stop Loss: {{stop_loss}}\n✅ Take Profit: {{take_profit}}\n⚠️ Rủi ro: {{risk_amount}} ({{risk_percentage}}%)\n📊 Lý do: {{entry_reason}}\n🕒 {{timestamp}}",
            "closed_position": "{{result_emoji}} *VỊ THẾ ĐÓNG: {{symbol}} {{side}}*\n📉 Giá vào: {{entry_price}} → Giá ra: {{exit_price}}\n💵 P/L: {{profit_loss}} ({{profit_loss_percentage}}%)\n⏱️ Thời gian giữ: {{holding_time}}\n📝 Lý do: {{exit_reason}}\n🕒 {{timestamp}}",
            "position_update": "🔄 *CẬP NHẬT VỊ THẾ: {{symbol}} {{side}}*\n💰 P/L hiện tại: {{unrealized_profit}} ({{profit_percentage}}%)\n🛑 SL mới: {{new_stop_loss}} ({{sl_change}})\n✅ TP mới: {{new_take_profit}} ({{tp_change}})\n🕒 {{timestamp}}",
            "daily_summary": "📋 *BÁO CÁO NGÀY {{date}}*\n📊 Tổng vị thế: {{total_positions}} ({{open_positions}} đang mở)\n💵 P/L hôm nay: {{daily_pnl}} ({{daily_pnl_percentage}}%)\n⚖️ Hiệu suất: {{win_rate}}% thắng ({{win_count}}/{{total_count}})\n📈 Top: {{best_trade}}\n📉 Thấp: {{worst_trade}}\n💰 Số dư: {{balance}} USDT"
        }
    },
    
    "custom_commands": {
        "enabled": true,
        "commands": {
            "/status": {
                "description": "Kiểm tra trạng thái bot",
                "admin_only": false
            },
            "/positions": {
                "description": "Xem các vị thế đang mở",
                "admin_only": false
            },
            "/balance": {
                "description": "Kiểm tra số dư tài khoản",
                "admin_only": false
            },
            "/performance": {
                "description": "Xem báo cáo hiệu suất",
                "admin_only": false
            },
            "/stop": {
                "description": "Dừng bot",
                "admin_only": true
            },
            "/start": {
                "description": "Khởi động bot",
                "admin_only": true
            },
            "/closeall": {
                "description": "Đóng tất cả vị thế",
                "admin_only": true
            },
            "/setleverage": {
                "description": "Đặt đòn bẩy: /setleverage SYMBOL LEVERAGE",
                "admin_only": true
            }
        }
    },
    
    "notification_throttling": {
        "enabled": true,
        "max_notifications_per_minute": 5,
        "min_time_between_similar_notifications": 300,
        "group_similar_notifications": true,
        "combine_small_updates": true,
        "suppress_during_high_activity": true,
        "high_activity_threshold": 10
    },
    
    "advanced_settings": {
        "retry_failed_messages": true,
        "max_retries": 3,
        "retry_delay_seconds": 30,
        "log_all_notifications": true,
        "use_silent_notifications_for_low_priority": true,
        "queue_notifications_when_offline": true,
        "max_queued_notifications": 100,
        "admin_user_ids": [1834332146]
    }
}